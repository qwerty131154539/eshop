<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN"
    "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
    <package name="product" extends="default" namespace="/product">
        <interceptors>
            <!-- 
                定義當前 package（封裝作用域）的攔截器堆疊 
                攔截器用於在 Action 方法執行前後執行額外邏輯，如驗證、檔案上傳等。
            -->
            <interceptor-stack name="loginStack">
                <!-- ModelDriven 攔截器，讓 Action 可以直接存取 Model 屬性 -->
                <interceptor-ref name="modelDrivenStack" />
                <!-- 檔案上傳攔截器，處理多媒體或文件上傳 -->
                <interceptor-ref name="fileUpload" />
            </interceptor-stack>
        </interceptors>
        <!-- 
            覆寫父 package（繼承自 "default"）的預設攔截器 default-interceptor-ref， 
            由於登入頁面不需要驗證身份，因此自訂一個攔截器堆疊來處理登入請求。
        -->
        <default-interceptor-ref name="loginStack" />
        <!-- 
            定義登入的 Action：
            - Action 名稱為 "login"，對應的處理類別為 com.example.action.LoginAction
            - 方法 "doLogin" 負責處理登入邏輯
        -->
        <action name="product-list" class="com.example.action.ProductAction" method="getAllProducts">

            <result name="success" >/product-list.jsp</result>

        </action>
    </package>
</struts>

